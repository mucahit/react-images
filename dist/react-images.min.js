!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("prop-types"),require("aphrodite"),require("react-scrolllock"),require("aphrodite/no-important"),require("react-transition-group"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","prop-types","aphrodite","react-scrolllock","aphrodite/no-important","react-transition-group","react-dom"],t):e.Lightbox=t(e.React,e.PropTypes,e.aphrodite,e.ScrollLock,e.aphrodite,e.ReactTransitionGroup,e.ReactDOM)}(this,function(e,t,o,n,r,i,a){"use strict";var s="default"in e?e.default:e;t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n,module.exports=require("./dist/index");var l={container:{background:"rgba(0, 0, 0, 0.8)",gutter:{horizontal:10,vertical:10},zIndex:2001},header:{height:40},close:{fill:"white"},rotate:{fill:"white",height:20,width:20},footer:{color:"white",count:{color:"rgba(255, 255, 255, 0.75)",fontSize:"0.85em"},height:40,gutter:{horizontal:0,vertical:5}},thumbnail:{activeBorderColor:"white",size:50,gutter:2},arrow:{background:"none",fill:"white",height:120}},c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=(function(){function e(e){this.value=e}function t(t){var o,n;function r(o,n){try{var a=t[o](n),s=a.value;s instanceof e?Promise.resolve(s.value).then(function(e){r("next",e)},function(e){r("throw",e)}):i(a.done?"return":"normal",a.value)}catch(e){i("throw",e)}}function i(e,t){switch(e){case"return":o.resolve({value:t,done:!0});break;case"throw":o.reject(t);break;default:o.resolve({value:t,done:!1})}(o=o.next)?r(o.key,o.arg):n=null}this._invoke=function(e,t){return new Promise(function(i,a){var s={key:e,arg:t,resolve:i,reject:a,next:null};n?n=n.next=s:(o=n=s,r(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),h=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},d=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},m=function(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o},f=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=Object.assign({},e);return Object.keys(t).forEach(function(n){"object"===c(t[n])&&t[n]&&e[n]?o[n]=g(e[n],t[n]):o[n]=t[n]}),o}var v={arrowLeft:function(e){return'<svg fill="'+e+'" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 512 512" xml:space="preserve">\n\t\t<path d="M213.7,256L213.7,256L213.7,256L380.9,81.9c4.2-4.3,4.1-11.4-0.2-15.8l-29.9-30.6c-4.3-4.4-11.3-4.5-15.5-0.2L131.1,247.9 c-2.2,2.2-3.2,5.2-3,8.1c-0.1,3,0.9,5.9,3,8.1l204.2,212.7c4.2,4.3,11.2,4.2,15.5-0.2l29.9-30.6c4.3-4.4,4.4-11.5,0.2-15.8 L213.7,256z"/>\n\t</svg>'},arrowRight:function(e){return'<svg fill="'+e+'" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 512 512" xml:space="preserve">\n\t\t<path d="M298.3,256L298.3,256L298.3,256L131.1,81.9c-4.2-4.3-4.1-11.4,0.2-15.8l29.9-30.6c4.3-4.4,11.3-4.5,15.5-0.2l204.2,212.7 c2.2,2.2,3.2,5.2,3,8.1c0.1,3-0.9,5.9-3,8.1L176.7,476.8c-4.2,4.3-11.2,4.2-15.5-0.2L131.3,446c-4.3-4.4-4.4-11.5-0.2-15.8 L298.3,256z"/>\n\t</svg>'},close:function(e){return'<svg fill="'+e+'" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve">\n\t\t<path d="M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4 L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1 c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1 c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"/>\n\t</svg>'},rotate:function(e){return'<svg fill="'+e+'" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="100%" height="100%" viewBox="0 0 385 385" style="enable-background:new 0 0 512 512;" xml:space="preserve">\n\t\t<path d="M385,32.0833333 L385,144.375 C385,148.719618 383.412543,152.479384 380.23763,155.654297 C377.062717,158.82921 373.302951,160.416667 368.958333,160.416667 L256.666667,160.416667 C249.648438,160.416667 244.718967,157.074653 241.878255,150.390625 C239.037543,143.873698 240.207248,138.108724 245.38737,133.095703 L279.977214,98.5058594 C255.246311,75.6130642 226.08724,64.1666667 192.5,64.1666667 C175.121528,64.1666667 158.536784,67.5504557 142.745768,74.3180339 C126.954753,81.085612 113.294271,90.234375 101.764323,101.764323 C90.234375,113.294271 81.085612,126.954753 74.3180339,142.745768 C67.5504557,158.536784 64.1666667,175.121528 64.1666667,192.5 C64.1666667,209.878472 67.5504557,226.463216 74.3180339,242.254232 C81.085612,258.045247 90.234375,271.705729 101.764323,283.235677 C113.294271,294.765625 126.954753,303.914388 142.745768,310.681966 C158.536784,317.449544 175.121528,320.833333 192.5,320.833333 C212.384983,320.833333 231.183811,316.488715 248.896484,307.799479 C266.609158,299.110243 281.56467,286.828342 293.763021,270.953776 C294.932726,269.282769 296.854384,268.280165 299.527995,267.945964 C301.867405,267.945964 303.956163,268.697917 305.794271,270.201823 L340.133464,304.791667 C341.63737,306.128472 342.431098,307.841254 342.514648,309.930013 C342.598199,312.018772 341.971571,313.898655 340.634766,315.569661 C322.42079,337.626953 300.363498,354.712999 274.462891,366.827799 C248.562283,378.9426 221.241319,385 192.5,385 C166.432292,385 141.534288,379.903429 117.80599,369.710286 C94.077691,359.517144 73.6078559,345.814887 56.3964844,328.603516 C39.1851128,311.392144 25.4828559,290.922309 15.2897135,267.19401 C5.09657118,243.465712 0,218.567708 0,192.5 C0,166.432292 5.09657118,141.534288 15.2897135,117.80599 C25.4828559,94.077691 39.1851128,73.6078559 56.3964844,56.3964844 C73.6078559,39.1851128 94.077691,25.4828559 117.80599,15.2897135 C141.534288,5.09657118 166.432292,0 192.5,0 C217.063802,0 240.833876,4.63704427 263.810221,13.9111328 C286.786567,23.1852214 307.214627,36.2608507 325.094401,53.1380208 L357.679036,20.8040365 C362.524957,15.6239149 368.373481,14.4542101 375.224609,17.2949219 C381.741536,20.1356337 385,25.0651042 385,32.0833333 Z" id="Shape" fill="'+e+'"></path>\n\t</svg>'}},y=function(e){var t=e.fill,o=e.type,n=m(e,["fill","type"]),r=v[o];return s.createElement("span",p({dangerouslySetInnerHTML:{__html:r(t)}},n))};function w(e,t){var o=t.theme,n=e.direction,i=e.icon,a=e.onClick,c=e.size,u=m(e,["direction","icon","onClick","size"]),h=r.StyleSheet.create(g(b,o));return s.createElement("button",p({type:"button",className:r.css(h.arrow,h["arrow__direction__"+n],c&&h["arrow__size__"+c]),onClick:a,onTouchEnd:a},u),s.createElement(y,{fill:!!o.arrow&&o.arrow.fill||l.arrow.fill,type:i}))}y.defaultProps={fill:"white"},w.defaultProps={size:"medium"},w.contextTypes={theme:t.object.isRequired};var b={arrow:{background:"none",border:"none",borderRadius:4,cursor:"pointer",outline:"none",padding:10,position:"absolute",top:"50%",WebkitTouchCallout:"none",userSelect:"none"},arrow__size__medium:{height:l.arrow.height,marginTop:l.arrow.height/-2,width:40,"@media (min-width: 768px)":{width:70}},arrow__size__small:{height:l.thumbnail.size,marginTop:l.thumbnail.size/-2,width:30,"@media (min-width: 500px)":{width:40}},arrow__direction__right:{right:l.container.gutter.horizontal},arrow__direction__left:{left:l.container.gutter.horizontal}};function k(e,t){var o=t.theme,n=m(e,[]),i=r.StyleSheet.create(g(C,o));return s.createElement("div",p({id:"lightboxBackdrop",className:r.css(i.container)},n))}k.contextTypes={theme:t.object.isRequired};var C={container:{alignItems:"center",backgroundColor:l.container.background,boxSizing:"border-box",display:"flex",height:"100%",justifyContent:"center",left:0,paddingBottom:l.container.gutter.vertical,paddingLeft:l.container.gutter.horizontal,paddingRight:l.container.gutter.horizontal,paddingTop:l.container.gutter.vertical,position:"fixed",top:0,width:"100%",zIndex:l.container.zIndex}};function x(e,t){var o=t.theme,n=e.caption,i=e.countCurrent,a=e.countSeparator,l=e.countTotal,c=e.showCount,u=m(e,["caption","countCurrent","countSeparator","countTotal","showCount"]);if(!n&&!c)return null;var h=r.StyleSheet.create(g(S,o)),d=c?s.createElement("div",{className:r.css(h.footerCount)},i,a,l):s.createElement("span",null);return s.createElement("div",p({className:r.css(h.footer)},u),n?s.createElement("figcaption",{className:r.css(h.footerCaption)},n):s.createElement("span",null),d)}x.contextTypes={theme:t.object.isRequired};var S={footer:{boxSizing:"border-box",color:l.footer.color,cursor:"auto",display:"flex",justifyContent:"space-between",left:0,lineHeight:1.3,paddingBottom:l.footer.gutter.vertical,paddingLeft:l.footer.gutter.horizontal,paddingRight:l.footer.gutter.horizontal,paddingTop:l.footer.gutter.vertical},footerCount:{color:l.footer.count.color,fontSize:l.footer.count.fontSize,paddingLeft:"1em"},footerCaption:{flex:"1 1 0"}};function E(e,t){var o=t.theme,n=e.customControls,i=e.onClose,a=e.onRotate,c=e.showCloseButton,u=e.showRotateButton,h=e.closeButtonTitle,d=e.rotateButtonTitle,f=m(e,["customControls","onClose","onRotate","showCloseButton","showRotateButton","closeButtonTitle","rotateButtonTitle"]),v=r.StyleSheet.create(g(I,o));return s.createElement("div",p({className:r.css(v.header)},f),!!u&&s.createElement("button",{title:d,className:r.css(v.close),onClick:a},s.createElement(y,{fill:!!o.rotate&&o.rotate.fill||l.rotate.fill,type:"rotate"})),n||s.createElement("span",null),!!c&&s.createElement("button",{title:h,className:r.css(v.close),onClick:i},s.createElement(y,{fill:!!o.close&&o.close.fill||l.close.fill,type:"close"})))}E.contextTypes={theme:t.object.isRequired};var I={header:{display:"flex",justifyContent:"space-between",height:l.header.height},close:{background:"none",border:"none",cursor:"pointer",outline:"none",position:"relative",top:0,verticalAlign:"bottom",height:40,marginRight:-10,padding:10,width:40},rotate:{}};function _(e,t){var o=e.index,n=e.src,i=e.thumbnail,a=e.active,l=e.onClick,c=t.theme,u=i||n,h=r.StyleSheet.create(g(L,c));return s.createElement("div",{className:r.css(h.thumbnail,a&&h.thumbnail__active),onClick:function(e){e.preventDefault(),e.stopPropagation(),l(o)},style:{backgroundImage:'url("'+u+'")'}})}_.contextTypes={theme:t.object.isRequired};var L={thumbnail:{backgroundPosition:"center",backgroundSize:"cover",borderRadius:2,boxShadow:"inset 0 0 0 1px hsla(0,0%,100%,.2)",cursor:"pointer",display:"inline-block",height:l.thumbnail.size,margin:l.thumbnail.gutter,overflow:"hidden",width:l.thumbnail.size},thumbnail__active:{boxShadow:"inset 0 0 0 2px "+l.thumbnail.activeBorderColor}},T=r.StyleSheet.create({paginatedThumbnails:{bottom:l.container.gutter.vertical,height:l.thumbnail.size,padding:"0 50px",position:"absolute",textAlign:"center",whiteSpace:"nowrap",left:"50%",transform:"translateX(-50%)"}}),z={height:l.thumbnail.size+2*l.thumbnail.gutter,width:40},P=function(e){function t(e){u(this,t);var o=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state={hasCustomPage:!1},o.gotoPrev=o.gotoPrev.bind(o),o.gotoNext=o.gotoNext.bind(o),o}return d(t,e),h(t,[{key:"componentWillReceiveProps",value:function(e){e.currentImage!==this.props.currentImage&&this.setState({hasCustomPage:!1})}},{key:"getFirst",value:function(){var e=this.props,t=e.currentImage,o=e.offset;return this.state.hasCustomPage?this.clampFirst(this.state.first):this.clampFirst(t-o)}},{key:"setFirst",value:function(e,t){var o=this.state.first;e&&(e.preventDefault(),e.stopPropagation()),o!==t&&this.setState({hasCustomPage:!0,first:t})}},{key:"gotoPrev",value:function(e){this.setFirst(e,this.getFirst()-this.props.offset)}},{key:"gotoNext",value:function(e){this.setFirst(e,this.getFirst()+this.props.offset)}},{key:"clampFirst",value:function(e){var t=this.props,o=t.images,n=2*t.offset+1;return e<0?0:e+n>o.length?o.length-n:e}},{key:"renderArrowPrev",value:function(){return this.getFirst()<=0?null:s.createElement(w,{direction:"left",size:"small",icon:"arrowLeft",onClick:this.gotoPrev,style:z,title:"Previous (Left arrow key)",type:"button"})}},{key:"renderArrowNext",value:function(){var e=this.props,t=e.offset,o=e.images,n=2*t+1;return this.getFirst()+n>=o.length?null:s.createElement(w,{direction:"right",size:"small",icon:"arrowRight",onClick:this.gotoNext,style:z,title:"Next (Right arrow key)",type:"button"})}},{key:"render",value:function(){var e=this.props,t=e.images,o=e.currentImage,n=e.onClickThumbnail,i=2*e.offset+1,a=[],l=0;return t.length<=i?a=t:(l=this.getFirst(),a=t.slice(l,l+i)),s.createElement("div",{className:r.css(T.paginatedThumbnails)},this.renderArrowPrev(),a.map(function(e,t){return s.createElement(_,p({key:l+t},e,{index:l+t,onClick:n,active:l+t===o}))}),this.renderArrowNext())}}]),t}(e.Component),N=function(t){function o(){return u(this,o),f(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return d(o,t),h(o,[{key:"getChildContext",value:function(){return this.props.context}},{key:"render",value:function(){return e.Children.only(this.props.children)}}]),o}(e.Component);N.childContextTypes={theme:t.object};var B=function(e){function t(){u(this,t);var e=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.portalElement=null,e}return d(t,e),h(t,[{key:"componentDidMount",value:function(){var e=document.createElement("div");document.body.appendChild(e),this.portalElement=e,this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){a.render(s.createElement(N,{context:this.context},s.createElement("div",null,s.createElement("style",null,"\n\t\t\t\t.fade-enter { opacity: 0.01; }\n\t\t\t\t.fade-enter.fade-enter-active { opacity: 1; transition: opacity 200ms; }\n\t\t\t\t.fade-leave { opacity: 1; }\n\t\t\t\t.fade-leave.fade-leave-active { opacity: 0.01; transition: opacity 200ms; }\n\t\t"),s.createElement(i.CSSTransitionGroup,p({component:"div",transitionName:"fade",transitionEnterTimeout:200,transitionLeaveTimeout:200},this.props)))),this.portalElement)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.portalElement)}},{key:"render",value:function(){return null}}]),t}(e.Component);B.contextTypes={theme:t.object.isRequired};var O=!("undefined"==typeof window||!window.document||!window.document.createElement),R=function(e){function t(e){u(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.theme=g(l,e.theme),n.classes=o.StyleSheet.create(g(j,n.theme)),n.state={imageLoaded:!1,rotate:0,isZoomed:!1},function(e){var t=this;e.forEach(function(e){return t[e]=t[e].bind(t)})}.call(n,["gotoNext","gotoPrev","rotate","zoom","closeBackdrop","handleKeyboardInput","handleImageLoaded"]),n}return d(t,e),h(t,[{key:"getChildContext",value:function(){return{theme:this.theme}}},{key:"componentDidMount",value:function(){var e=this;this.props.isOpen&&this.props.enableKeyboardInput&&window.addEventListener("keydown",this.handleKeyboardInput),this.props.zoom&&document.addEventListener("mousemove",function(t){var o=t.clientY;e.state.isZoomed&&(o<=window.innerHeight/2?e.setState({margin:window.innerHeight-o+"px 0 0 0"}):e.setState({margin:"-"+o/1.3+"px 0 0 0"}))})}},{key:"componentWillReceiveProps",value:function(e){if(O){if(e.preloadNextImage){var t=this.props.currentImage,o=e.currentImage+1,n=e.currentImage-1,r=void 0;t&&e.currentImage>t?r=o:t&&e.currentImage<t&&(r=n),r?this.preloadImage(r):(this.preloadImage(n),this.preloadImage(o))}if(this.props.currentImage!==e.currentImage||!this.props.isOpen&&e.isOpen){var i=this.preloadImage(e.currentImage,this.handleImageLoaded);this.setState({imageLoaded:i.complete})}!this.props.isOpen&&e.isOpen&&e.enableKeyboardInput&&window.addEventListener("keydown",this.handleKeyboardInput),!e.isOpen&&e.enableKeyboardInput&&window.removeEventListener("keydown",this.handleKeyboardInput)}}},{key:"componentWillUnmount",value:function(){this.props.enableKeyboardInput&&window.removeEventListener("keydown",this.handleKeyboardInput)}},{key:"preloadImage",value:function(e,t){var o=this.props.images[e];if(o){var n=new Image;return n.onerror=t,n.onload=t,n.src=o.src,n.srcSet=o.srcSet||o.srcset,o.srcset&&(n.srcset=o.srcset.join()),n.srcSet&&n.setAttribute("srcset",n.srcSet),n}}},{key:"gotoNext",value:function(e){var t=this.props,o=t.currentImage,n=t.images;this.state.imageLoaded&&o!==n.length-1&&(e&&(e.preventDefault(),e.stopPropagation()),this.props.onClickNext(),this.setState({rotate:0}),this.props.onClickNext())}},{key:"gotoPrev",value:function(e){var t=this.props.currentImage;this.state.imageLoaded&&0!==t&&(e&&(e.preventDefault(),e.stopPropagation()),this.props.onClickPrev(),this.setState({rotate:0}))}},{key:"closeBackdrop",value:function(e){"lightboxBackdrop"!==e.target.id&&"FIGURE"!==e.target.tagName||this.props.onClose()}},{key:"handleKeyboardInput",value:function(e){return 37===e.keyCode?(this.gotoPrev(e),!0):39===e.keyCode?(this.gotoNext(e),!0):27===e.keyCode&&(this.props.onClose(),!0)}},{key:"rotate",value:function(e){e.preventDefault(),e.stopPropagation(),360===this.state.rotate?this.setState({rotate:90}):this.setState({rotate:this.state.rotate+90})}},{key:"zoom",value:function(e){e.preventDefault(),e.stopPropagation(),this.state.isZoomed?this.setState({isZoomed:!1,margin:0}):this.setState({isZoomed:!0,margin:0})}},{key:"eventPreventDefault",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"handleImageLoaded",value:function(){this.setState({imageLoaded:!0})}},{key:"renderArrowPrev",value:function(){return 0===this.props.currentImage?null:s.createElement(w,{direction:"left",icon:"arrowLeft",onClick:this.gotoPrev,title:this.props.leftArrowTitle,type:"button"})}},{key:"renderArrowNext",value:function(){return this.props.currentImage===this.props.images.length-1?null:s.createElement(w,{direction:"right",icon:"arrowRight",onClick:this.gotoNext,title:this.props.rightArrowTitle,type:"button"})}},{key:"renderDialog",value:function(){var e=this.props,t=e.backdropClosesModal,r=e.isOpen,i=e.showThumbnails,a=e.width,l=this.state.imageLoaded;if(!r)return s.createElement("span",{key:"closed"});var c=0;return i&&(c=this.theme.thumbnail.size+this.theme.container.gutter.vertical),s.createElement(k,{key:"open",onClick:t&&this.closeBackdrop,onTouchEnd:t&&this.closeBackdrop},s.createElement("div",null,s.createElement("div",{className:o.css(this.classes.content),style:{marginBottom:c,maxWidth:a}},l&&this.renderHeader(),this.renderImages(),this.renderSpinner(),l&&this.renderFooter()),l&&this.renderThumbnails(),l&&this.renderArrowPrev(),l&&this.renderArrowNext(),s.createElement(n,null)))}},{key:"renderImages",value:function(){var e=this.props,t=e.currentImage,n=e.images,r=e.onClickImage,i=this.state.imageLoaded;if(!n||!n.length)return null;var a=n[t];a.srcSet=a.srcSet||a.srcset;var l=void 0;return a.srcSet&&(l=a.srcSet.join()),s.createElement("figure",{className:o.css(this.classes.figure)},s.createElement("div",{className:o.css(this.classes.imageWrapper)},this.props.customMedia?this.props.customMedia:s.createElement("img",{className:o.css(this.classes.image,i&&this.classes.imageLoaded),onClick:r||(this.props.zoom?this.zoom:null),alt:a.alt,src:a.src,srcSet:l,style:{cursor:this.props.zoom?this.state.isZoomed?"zoom-out":"zoom-in":r?"pointer":"auto",maxHeight:this.state.isZoomed?"120vh":"630px",maxWidth:this.state.isZoomed?"120vh":"574px",transform:this.state.isZoomed?"scale(1.4) rotate("+this.state.rotate+"deg)":"scale(1) rotate("+this.state.rotate+"deg)",margin:this.state.margin,transition:"all .3s",display:"inline-block"}}),this.props.content?s.createElement("figcaption",{className:o.css(this.classes.figcaption),style:{display:this.state.isZoomed?"none":"inline-block"},onClick:this.eventPreventDefault},this.props.children):null))}},{key:"renderThumbnails",value:function(){var e=this.props,t=e.images,o=e.currentImage,n=e.onClickThumbnail,r=e.showThumbnails,i=e.thumbnailOffset;if(r)return s.createElement(P,{currentImage:o,images:t,offset:i,onClickThumbnail:n})}},{key:"renderHeader",value:function(){var e=this.props,t=e.closeButtonTitle,o=e.customControls,n=e.onClose,r=e.showCloseButton,i=e.showRotateButton,a=e.rotateButtonTitle;return s.createElement(E,{customControls:o,onClose:n,showCloseButton:r,closeButtonTitle:t,onRotate:this.rotate,rotateButtonTitle:a,showRotateButton:i})}},{key:"renderFooter",value:function(){var e=this.props,t=e.currentImage,o=e.images,n=e.imageCountSeparator,r=e.showImageCount;return o&&o.length?s.createElement(x,{caption:o[t].caption,countCurrent:t+1,countSeparator:n,countTotal:o.length,showCount:r}):null}},{key:"renderSpinner",value:function(){var e=this.props,t=e.spinner,n=e.spinnerColor,r=e.spinnerSize,i=this.state.imageLoaded,a=t;return s.createElement("div",{className:o.css(this.classes.spinner,!i&&this.classes.spinnerActive)},s.createElement(a,{color:n,size:r}))}},{key:"render",value:function(){return s.createElement(B,null,this.renderDialog())}}]),t}(e.Component);R.defaultProps={closeButtonTitle:"Close (Esc)",rotateButtonTitle:"Rotate",currentImage:0,enableKeyboardInput:!0,imageCountSeparator:" of ",leftArrowTitle:"Previous (Left arrow key)",onClickShowNextImage:!0,preloadNextImage:!0,rightArrowTitle:"Next (Right arrow key)",showCloseButton:!0,showImageCount:!0,showRotateButton:!0,spinner:function(e){return s.createElement(void 0,e)},spinnerColor:"white",spinnerSize:100,theme:{},thumbnailOffset:2,width:1024,zoom:!1,content:!1},R.childContextTypes={theme:t.object.isRequired};var j={content:{position:"relative"},figure:{margin:0},imageWrapper:{display:"flex",alignItems:"center",justifyContent:"center",background:"#000"},image:{display:"block",height:"auto",marginLeft:"auto",marginRight:"auto",maxWidth:"100%",WebkitTouchCallout:"none",userSelect:"none",opacity:0,transition:"opacity 0.3s"},imageLoaded:{opacity:1},figcaption:{background:"#fff",width:"450px",verticalAlign:"top",height:"630px",overflow:"auto"},spinner:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",opacity:0,transition:"opacity 0.3s"},spinnerActive:{opacity:1}};return R});
